# Vercel Environment Variables Configuration

This file documents all environment variables needed for Vercel deployment.
Add these in your Vercel project settings: https://vercel.com/[your-team]/[project]/settings/environment-variables

## Required Environment Variables

### NextAuth.js Configuration

```bash
# Base URL for your application (auto-set by Vercel in production)
NEXTAUTH_URL=https://your-domain.vercel.app

# Secret for JWT encryption (generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=your-secret-key-here
```

### OAuth Providers

```bash
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Facebook OAuth
FACEBOOK_CLIENT_ID=your-facebook-app-id
FACEBOOK_CLIENT_SECRET=your-facebook-app-secret
```

### API Endpoints (Public - exposed to browser)

```bash
# Main API Gateway
NEXT_PUBLIC_API_URL=https://api.techbirdsfly.com

# Individual Microservices
NEXT_PUBLIC_AUTH_URL=https://api.techbirdsfly.com/auth
NEXT_PUBLIC_GENERATOR_URL=https://api.techbirdsfly.com/generator
NEXT_PUBLIC_USER_URL=https://api.techbirdsfly.com/user
NEXT_PUBLIC_IMAGE_URL=https://api.techbirdsfly.com/image
NEXT_PUBLIC_BILLING_URL=https://api.techbirdsfly.com/billing
```

## Local Development (.env.local)

Create a `.env.local` file in `web-frontend/techbirdsfly-frontend-nextjs/`:

```bash
# NextAuth.js
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-local-secret-key

# OAuth (use development credentials)
GOOGLE_CLIENT_ID=your-dev-google-client-id
GOOGLE_CLIENT_SECRET=your-dev-google-client-secret
FACEBOOK_CLIENT_ID=your-dev-facebook-app-id
FACEBOOK_CLIENT_SECRET=your-dev-facebook-app-secret

# API Endpoints (local)
NEXT_PUBLIC_API_URL=http://localhost:5000
NEXT_PUBLIC_AUTH_URL=http://localhost:5001
NEXT_PUBLIC_GENERATOR_URL=http://localhost:5002
NEXT_PUBLIC_USER_URL=http://localhost:5003
NEXT_PUBLIC_IMAGE_URL=http://localhost:5004
NEXT_PUBLIC_BILLING_URL=http://localhost:5005
```

## Vercel CLI Setup

```bash
# Link to Vercel project
vercel link

# Pull environment variables from Vercel
vercel env pull .env.local

# Add environment variable
vercel env add NEXTAUTH_SECRET

# Deploy with environment variables
vercel --prod
```

## Security Notes

⚠️ **IMPORTANT**:
- Never commit `.env.local` or `.env` files to Git
- Use different OAuth credentials for development and production
- Rotate `NEXTAUTH_SECRET` regularly
- Use Vercel's encrypted environment variables
- Set environment variables per environment (Development, Preview, Production)

## Auto-Detection

Vercel automatically detects:
- ✅ Framework: Next.js
- ✅ Build command: `npm run build`
- ✅ Output directory: `.next`
- ✅ Install command: `npm install`
- ✅ Dev command: `npm run dev`

## References

- [Vercel Environment Variables](https://vercel.com/docs/concepts/projects/environment-variables)
- [NextAuth.js Deployment](https://next-auth.js.org/deployment)
- [Next.js Environment Variables](https://nextjs.org/docs/basic-features/environment-variables)
